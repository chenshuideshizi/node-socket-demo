<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Koa Socket</title>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>

    <div>这是一个ejs的模板引擎</div>

    <h2><%=title%></h2>
    <button onclick="send()">给服务器发送消息</button>

    <script>
        const room_id = 1
        const socket = io.connect(`http://localhost:3000/?room_id=${room_id}`);
        socket.on('serverEmit',function(data){
            console.log(data);
        })

        function send(){
            socket.emit('addCart','我是客户端的数据');
        }

    </script>
</body>
</html>